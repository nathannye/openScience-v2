$boundary: 87.8%

@font-face
	font-family: telegraf
	src: url(../fonts/telegraf_200.ttf)
	font-style: normal
	font-weight: 200

@font-face
	font-family: telegraf
	src: url(../fonts/telegraf_400.ttf)
	font-style: normal
	font-weight: 400

@mixin fontIvyNormal
	font-family: ivypresto-headline, serif
	font-weight: 400 

@mixin fontIvyItalic
	font-family: ivypresto-headline, serif 
	font-weight: 200
	font-style: italic
	  
@mixin fontTel
	font-family: telegraf
	font-style: normal

@mixin defaultTransition
	transition: all .29s ease-in-out

@mixin whipTransition
	transition: cubic-bezier(.76,.03,.35,.99) .25s all

@mixin has3D
	perspective: 200px
	transform: perspective(-200px)
	transform-style: preserve-3d

@mixin maxWidthXS
	width: $boundary
	max-width: 350px

@mixin maxWidthS
	width: $boundary
	max-width: 550px

@mixin maxWidthM
	width: $boundary
	max-width: 850px

@mixin maxWidthL
	width: $boundary
	max-width: 1250px	

@mixin maxWidthXL
	width: $boundary
	max-width: 1750px	

*
	--color-blue: #001F4E
	--color-dark: #030b18
	--color-yellow: #FFE65C
	--color-red: #E32121
	--color-gry: #EEEEEE
	--color-teal:#13f1df
	--color-white: white
	--shadow-color:#3171a5
	box-sizing: border-box

html, body
	background-color: var(--color-dark)
	scroll-behavior: smooth
	font-size: 62.5%
	margin: 0
	overflow-x: hidden
	padding: 0
	color: white

h1, h2, h3, h4, h5, h6, p, ul, li, a
	margin: 0
	padding: 0

h1 > div, h2 > div, h3 > div, h4 > div, h5 > div, h6 > div, p > div
	will-change: transform, opacity, position, color, visibility
	
a:visited, a.externalLink:visited
	color: var(--color-white) !important
	opacity: .4 !important

h1, h2, h3, h4, h5, p, li, a
	
	div
		@include has3D

a
	color: var(--color-white) !important

h1
	font-size: clamp(3.2em, calc(3.2rem + (21.8 - 3.2) * ((100vw - 48em) / (120 - 48))), 21.8em)
	font-family: telegraf
	font-style: normal
	line-height: 1.02
	letter-spacing: -.025em
	margin-bottom: .5em

	em
		@include fontIvyItalic
		color: var(--color-yellow)
		letter-spacing: .005em

h2
	@include fontIvyNormal
	font-size: clamp(2.9em, calc(2.9rem + (6.5 - 2.9) * ((100vw - 48rem) / (120 - 48))), 6.5em)
	line-height: 1.23
	letter-spacing: .02em
	margin-bottom: 0.25em

	em
		@include fontIvyItalic
		color: var(--color-yellow)
		letter-spacing: .005em

h3	
	@include fontIvyNormal
	font-size: clamp(2.3em, calc(2.3rem + ((1vw - 0.48em) * 0.9722)), 3em)
	min-height: 0vw
	font-weight: 400 !important
	letter-spacing: .02em
	line-height: 1.55
	margin-bottom: .5em
	
h4
	@include fontTel
	text-transform: uppercase
	font-size: clamp(1.17em, calc(1.2rem + (1.9 - 1.17) * ((100vw - 48em) / (120 - 48))), 1.9em)
	line-height: 1.57
	font-weight: 400
	// opacity: .5
	color: var(--color-yellow)
	letter-spacing: .3em
	margin-bottom: .5em

h5
	@include fontTel
	text-transform: uppercase
	font-size: clamp(1.3em, calc(1.3rem + (1.7 - 1.3) * ((100vw - 48em) / (120 - 48))), 1.7em)
	line-height: 1.57
	font-weight: 400
	// opacity: .5
	color: var(--color-yellow)
	letter-spacing: .03em
	margin-bottom: .5em

.interstitial 
	display: flex !important
	justify-content: center
	align-items: center

	// h4
	// 	@include has3D

h3
	@include fontIvyNormal

p, ul, li, a, ol
	font-size: clamp(1.33em, calc(1.33rem + (2.85 - 1.33) * ((100vw - 48em) / (120 - 48))), 2.85em)
	@include fontTel
	letter-spacing: 0.005em
	text-rendering: optimizeLegibility
	font-weight: 100
	line-height: 1.52

cite > a, a.externalLink
	margin-top: 1.25em
	border-bottom: 1px solid white
	display: inline-block

a
	@include fontIvyNormal
	// margin-top: .5em !important
	display: block
	font-size: 1.3rem
	text-transform: uppercase
	text-decoration: none
	letter-spacing: .04em

	&:visited
		color: white

// p
// 	@include has3D

// 	& > div
// 		@include has3D

::selection
	color: var(--color-blue)
	background-color: #E3E3E3

button
	cursor: pointer
	border: none
	background: transparent
	text-align: center
	display: block
	color: inherit
	font-size: inherit
	
	@include defaultTransition

	*
		font-weight: inherit

	&:hover
		opacity: .74
		scale: .99
		@include defaultTransition
		
nav
	position: fixed
	right: 3rem
	display: none
	height: 100%
	flex-direction: column
	justify-content: center
	z-index: 35
	top: 0

	a
		display: flex
		flex-direction: row-reverse
		align-items: center
		margin-top: 1.5rem
		
		p
			font-size: inherit
			font-family: inherit
			font-weight: inherit
			font-style: inherit
			margin-right: 1em
			color: white

		div.navMarker
			display: block
			width: 6px
			margin-left: 1.25rem
			border-radius: 16px
			height: 6px
			opacity: .2
			background: var(--color-teal)
			@include defaultTransition
			

		.activeNav
			transform: translateX(10px) 
			@include defaultTransition
			opacity: 1 !important
			transform: scale(1.4) !important
			box-shadow: 0px 0px 5px var(--shadow-color)			
			
// Nav jump Links
.jumpTo
	// background: red
	width: 1px
	position: absolute
	top: -25%
	visibility: hidden

#introPanel .jumpTo
	top: -100%

main
	margin: auto

section:not(section.interstitial)
	height: 100vh

	&.lefty
		justify-content: flex-start

section#introPanel
	// position: absolute
	// transform: translateY(-100%)
	top: 0px !important
	display: flex
	justify-content: center
	align-items: center
	padding-top: 17vh
	height: 100vh

	#introHeadingContainer
		transform: translateX(calc(-26% /4))

		h1, h1> em
			margin: 0
			display: block
			position: relative
			white-space: nowrap
			// @include has3D

			// & > div
			// 	@include has3D

		h1:first-child
			z-index: 4
			text-shadow: 0px 0px 52px rgba(0,0,0, .25)

		& > div:last-child
			z-index: 3
			position: relative
			margin-top: -9%
			margin-left: 26%

			p
				max-width: 250px
				margin-top: clamp(1.5em, calc(1.5rem + ((1vw - 0.48em) * 2.0833)), 3em)

				& > div, & > div > div
					// @include has3D

@keyframes grain
  0%, 100%
    transform: translate(0, 0)

  10%
    transform: translate(-5%, -10%)

  20%
    transform: translate(-15%, 5%)

  30%
    transform: translate(7%, -25%)

  40%
    transform: translate(-5%, 25%)

  50%
    transform: translate(-15%, 10%)

  60%
    transform: translate(15%, 0%)

  70%
    transform: translate(0%, 15%)

  80%
    transform: translate(3%, 35%)

  90%
    transform: translate(-10%, 10%)

#grain
	width: 100vw
	height: 100vh
	left: 0
	top: 0
	z-index: 2
	overflow: hidden
	position: fixed

	&::after
		content: ""
		position: fixed
		opacity: .65
		width: 300%
		overflow: hidden
		top: -250%
		height: 500%
		left: -50%
		animation: grain 5.8s infinite steps(10)
		background-image: url(../img/grain.png)

div#soundIndicatorContainer
	position: fixed
	left: 6.1%
	top: 6.1%
	z-index: 300
	display: flex
	flex-direction: row-reverse
	align-items: center
	overflow: hidden
	cursor: pointer

	#soundLabelSwitch
		height: clamp(1.3em, calc(1.3rem + (1.7 - 1.3) * ((100vw - 48em) / (120 - 48))), 1.7em)	
		overflow: hidden
		display: flex
		margin-left: 1.5rem

		& > div
			height: clamp(1.3em, calc(1.3rem + (1.7 - 1.3) * ((100vw - 48em) / (120 - 48))), 1.7em)	
			margin-left: .75em

	h5
		margin: 0
		line-height: 1

	canvas#soundIndicator
		transform: translateY(-.12rem)

.gs-dev-tools
	z-index: 900000

#viewport 
	width: 100vw
	height: 100%
	position: fixed
	z-index: 1
	transform: translateZ(0)
	will-change: filter 
	left: 0
	transform: scale(2)
	// @include has3D

	& > div > canvas
		height: 100% !important
		width: 100% !important
		position: fixed
		transform: scale(3)
		top: 0
		left: 0

section#soundAsk
	position: fixed
	background: var(--color-dark)
	// @include has3D
	z-index: 25
	top: 0
	display: none
	left: 0
	filter: inherit
	width: 100%
	height: 100vh
	perspective-origin: left
	
	#soundButtons
		margin-top: 2rem
		display: flex
		justify-content: center
		transform: translateZ(90px)
		column-gap: 5em
		// @include has3D

	h2
		// @include has3D
		filter: blur(0)
		text-align: center
		color: var(--color-teal)

.panel
	z-index: 20
	position: relative
	display: block
	width: 100%
	@include maxWidthXL
	margin: 0 auto 18% auto

.fullWidthPanel
	max-width: initial
	width: 100vw

.panelInnerLeft
	align-self: flex-start
	display: flex

section#whatIsFolding
	display: flex
	@include maxWidthXL
	align-items: center
	flex-wrap: wrap

	.panelInnerLimit
		@include maxWidthXS
		
	#peptideAnimationContainer
		height: 100%
		flex-grow: 1
		width: 30%
		min-width: 300px

		svg
			width: 500px !important

			& > g
				width: 100% !important
				height: 100% !important

			.errorTarget
				// transform: scale(1)
			
section#whyDoesFoldingMatter
	align-items: flex-start

section#whyDoWeNeed
	position: relative
	padding: 12% 0 0 4.6%
	width: 100% !important
	background: var(--color-gry)
	align-items: flex-start
	overflow: hidden

	h2, p, h4
		color: var(--color-dark)

	& > div

		& > div
			@include maxWidthM
			display: flex
			column-gap: 1.5rem
			flex-wrap: wrap

			& > h2, p
				width: 48%
				min-width: 300px

	h1#aminoNumbers
		position: absolute
		bottom: -9%
		left: 5%
		color: var(--color-yellow)
		font-size: clamp(38em, calc(38rem + (86.8 - 38) * ((100vw - 48em) / (120 - 48))), 86.8em)
		line-height: 1
		margin: 0
		z-index: -1

section#numberOfUsersPanel
	position: relative

	h2, p
		z-index: 10

	img.parallaxImage
		position: absolute
		width: 40%
		max-width: 400px
		box-shadow: 0px 0px 40px rgba(0,0 ,0 ,.1 )

	#laxOne
		top: 44%
		left: 5%

	#laxTwo
		bottom: 6%
		right: 20%

	#laxThree
		top: 40%
		left: 35%

	#laxFour
		top: 22%
		right: .4%

section#chartOfUsers
	width: 100%
	height: 100%

#barChartContainer 

	& > svg
		overflow: visible
		display: block

		#yAxis

			.ticks:nth-child(10n)
				visibility: hidden

	.eventMarker
		fill: green !important
		position: relative

		&::after

	.eventMarkerObject
		background: red
		height: 50px
		width: 50px
		display: block
		position: absolute
		top: 0
		right: 0

	.eventMarkerLine

	.eventMarkerDot

	#declarePandemicMark

	#exascaleMark

.barv2
	width: 100%
	height: 500px

.line
	background: red
	width: .5%
	height: 200px
	margin-right: .5%

section#helpingReduceCosts
	
	& > div
		display: flex
		// width: 100%
		flex-direction: row-reverse
		flex-wrap: wrap
		justify-content: space-between

		.headingContainer
			width: 100%

section#howCanYouHelp
	display: block !important
	@include maxWidthL
	margin-bottom: 0

	#helpHeadingContainer
		display: flex
		@include maxWidthS
		justify-content: start
		margin-bottom: 5%

	#foldingProjectsContainer
		display: flex
		justify-content: flex-end
		column-gap: 4.6%

		& > div
			@include maxWidthXS

			h2
				margin-bottom: .25em

// GSAP Classes
.splitLine
	overflow: hidden

#explainFoldingGroup
	display: flex
	justify-content: center
	column-gap: 4rem

// Above 480px but beneath 769px
@media only screen and (min-width: 480px)

	section#whatIsFolding
		
		.panelInnerLimit

			& > div, & > p
				@include maxWidthS

	nav
		display: flex

	section#whyDoesFoldingMatter
		display: flex
		align-items: flex-end
		flex-direction: column
		justify-content: center
		position: relative

		.dangerCloud
			background: radial-gradient(circle, rgba(227,33,33,1) 0%, rgba(255,255,255,0) 72%)
			position: absolute
			width: 1000px
			height: 1000px
			mix-blend-mode: color-dodge
			top: 0
			z-index: 1
			opacity: .5
			// opacity: .4
			left: 0%

		& > div:not(div.dangerCloud)
			@include maxWidthS

	section#helpingReduceCosts
		
		& > div
			width: 100%
			justify-content: flex-end
			// column-gap: 3rem

			.headingContainer
				// width: 40%
				// max-width: 500px
				flex-grow: 1

			& > div:not(.headingContainer)
				// width: 40%
				// max-width: 500px

// Above 796px
@media only screen and (min-width: 769px)

	#viewport > div > canvas
		top: 22%
		transform: scale(2.2)
	
	section#helpingReduceCosts
		
		& > div
			column-gap: 4.6%

			.headingContainer
				width: 50%
				max-width: 500px
				flex-grow: 1

			& > div:not(.headingContainer)
				width: 40%
				max-width: 500px
